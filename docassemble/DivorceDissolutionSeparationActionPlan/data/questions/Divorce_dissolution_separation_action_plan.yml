---
include:
  - docassemble.AssemblyLine:assembly_line.yml
---
metadata:
  title: >-
    Divorce dissolution separation action plan
  short title: >-
    Divorce dissolution separation action plan
  description: |-
    Divorce dissolution separation action plan
  tags: []
  authors:
    - Caroline Robinson
  allowed_courts: []
  typical_role: "unknown"
  al_weaver_version: "1.10.2"
  generated_on: "2023-11-02"
---
code: |
  # This controls the default country and list of states in address field questions
  AL_DEFAULT_COUNTRY = "US"
---
code: |
  # This controls the default state in address field questions
  AL_DEFAULT_STATE = ""
---
code: |
  github_repo_name =  'docassemble-DivorceDissolutionSeparationActionPlan'
---
code: |
  interview_short_title = "Get a Divorce dissolution separation action plan"
---
code: |
  al_form_type = "other" 
---
objects:
  - users: ALPeopleList
---
sections:
  - review_Divorce_dissolution_separation_action_plan: Review your answers
---
#################### Interview order #####################
comment: |
  Controls order and branching logic for questions specific to this form
id: interview_order_Divorce_dissolution_separation_action_plan
code: |
  # Set the allowed courts for this interview
  allowed_courts = []
  nav.set_section("review_Divorce_dissolution_separation_action_plan")
  # Below sets the user_role and user_ask_role by asking a question.
  # You can set user_ask_role directly instead to either 'plaintiff' or 'defendant'
  user_ask_role
  husband_is_father
  dissolution_or_uncontested_divorce
  agree
  set_progress(25)
  kids
  file_disso
  divorce
  set_progress(50)
  military
  interview_order_Divorce_dissolution_separation_action_plan = True
---
###################### Main order ######################
comment: |
  This block includes the logic for standalone interviews.
  Delete mandatory: True to include in another interview
mandatory: True
code: |
  al_intro_screen
  Divorce_dissolution_separation_action_plan_intro
  interview_order_Divorce_dissolution_separation_action_plan
  signature_date
  # Store anonymous data for analytics / statistics
  store_variables_snapshot(
      persistent=True,
      data={
          "zip": showifdef("users[0].address.zip"),
          "reached_interview_end": True,
      },
  )
  Divorce_dissolution_separation_action_plan_download
---
comment: |
  This question is used to introduce your interview. Please customize
id: Divorce_dissolution_separation_action_plan
continue button field: Divorce_dissolution_separation_action_plan_intro
question: |
  Divorce dissolution separation action plan
subquestion: |
  Before you get started, you need to...
---
id: Husband is father
question: |
  Husband is father
fields:
  - "Husband is father": husband_is_father
  - "Has kids": has_kids
  - "Wife is pregnant": wife_is_pregnant
---
id: Dissolution or uncontested divorce
question: |
  Dissolution or uncontested divorce
fields:
  - "Dissolution or uncontested divorce": dissolution_or_uncontested_divorce
  - "Disso or unc div": disso_or_unc_div
  - "Missing spouse": missing_spouse
  - "No answer": no_answer
---
id: Agree
question: |
  Agree
fields:
  - "Agree": agree
  - "Wants paternity": wants_paternity
  - "Paternity": paternity
  - "Talk to spouse": talk_to_spouse
---
id: Kids
question: |
  Kids
fields:
  - "Kids": kids
---
id: File disso
question: |
  File disso
fields:
  - "File disso": file_disso
  - "File forms": file_forms
---
id: Divorce
question: |
  Divorce
fields:
  - "Divorce": divorce
  - "Pregnant": pregnant
  - "Uncontested divorce": uncontested_divorce
---
id: Military
question: |
  Military
fields:
  - "Military": military
  - "Property": property
  - "Legal separation": legal_separation
  - "Agreement options": agreement_options
  - "Domestic violence": domestic_violence
  - "Complaint contested": complaint_contested
  - "Legal separation contested": legal_separation_contested
---
id: preview Divorce_dissolution_separation_action_plan
question: |
  Preview your form before you sign it
subquestion: |
  Here is a preview of the form you will sign on the next page.   
  
  ${ al_court_bundle.as_pdf(key='preview') }

  Click the image to open it in a new tab. Click the "Edit answers" button
  to edit your answers.

  ${ action_button_html(url_action('review_Divorce_dissolution_separation_action_plan'), label='Edit answers', color='info') }
  
  Remember to come back to this window to continue and sign your form.
continue button field: Divorce_dissolution_separation_action_plan_preview_question    
---
code: |
  signature_fields = []
---
code: |
  # This is a placeholder for the addresses that will be searched
  # for matching address to court. Edit if court venue is based on 
  # a different address than the user's
  [user.address.address for user in users.complete_elements()]
  addresses_to_search = [user.address for user in users.complete_elements()]
---
id: Divorce dissolution separation action plan review screen
event: review_Divorce_dissolution_separation_action_plan
question: |
  Review your answers
review:
  - Edit: agree
    button: |
      **Agree**:
      ${ agree }
  - Edit: husband_is_father
    button: |
      **Husband is father**:
      ${ husband_is_father }
  - Edit: dissolution_or_uncontested_divorce
    button: |
      **Dissolution or uncontested divorce**:
      ${ dissolution_or_uncontested_divorce }
  - Edit: military
    button: |
      **Military**:
      ${ military }
  - Edit: property
    button: |
      **Property**:
      ${ property }
  - Edit: wants_paternity
    button: |
      **Wants paternity**:
      ${ wants_paternity }
  - Edit: has_kids
    button: |
      **Has kids**:
      ${ has_kids }
  - Edit: file_disso
    button: |
      **File disso**:
      ${ file_disso }
  - Edit: disso_or_unc_div
    button: |
      **Disso or unc div**:
      ${ disso_or_unc_div }
  - Edit: divorce
    button: |
      **Divorce**:
      ${ divorce }
  - Edit: paternity
    button: |
      **Paternity**:
      ${ paternity }
  - Edit: pregnant
    button: |
      **Pregnant**:
      ${ pregnant }
  - Edit: legal_separation
    button: |
      **Legal separation**:
      ${ legal_separation }
  - Edit: kids
    button: |
      **Kids**:
      ${ kids }
  - Edit: file_forms
    button: |
      **File forms**:
      ${ file_forms }
  - Edit: missing_spouse
    button: |
      **Missing spouse**:
      ${ missing_spouse }
  - Edit: no_answer
    button: |
      **No answer**:
      ${ no_answer }
  - Edit: uncontested_divorce
    button: |
      **Uncontested divorce**:
      ${ uncontested_divorce }
  - Edit: wife_is_pregnant
    button: |
      **Wife is pregnant**:
      ${ wife_is_pregnant }
  - Edit: agreement_options
    button: |
      **Agreement options**:
      ${ agreement_options }
  - Edit: domestic_violence
    button: |
      **Domestic violence**:
      ${ domestic_violence }
  - Edit: complaint_contested
    button: |
      **Complaint contested**:
      ${ complaint_contested }
  - Edit: talk_to_spouse
    button: |
      **Talk to spouse**:
      ${ talk_to_spouse }
  - Edit: legal_separation_contested
    button: |
      **Legal separation contested**:
      ${ legal_separation_contested }
---
id: download Divorce_dissolution_separation_action_plan
event: Divorce_dissolution_separation_action_plan_download
question: |
  All done
subquestion: |
  Thank you ${users}. Your form is ready to download and deliver.
  
  View, download and send your form below. Click the "Edit answers" button to fix any mistakes.

  ${ action_button_html(url_action('review_Divorce_dissolution_separation_action_plan'), label='Edit answers', color='info') }
  
  
  ${ al_user_bundle.download_list_html() }
  

  ${ al_user_bundle.send_button_html(show_editable_checkbox=True) }

progress: 100
---
# ALDocument objects specify the metadata for each template
objects:
  - Divorce_dissolution_separation_action_plan_Post_interview_instructions: ALDocument.using(title="Instructions", filename="Divorce_dissolution_separation_action_plan_next_steps.docx", enabled=True, has_addendum=False)
  - Divorce_dissolution_separation_action_plan_attachment: ALDocument.using(title="Divorce dissolution separation action plan", filename="Divorce_dissolution_separation_action_plan", enabled=True, has_addendum=False, )
---
# Bundles group the ALDocuments into separate downloads, such as for court and for the user
objects:
  - al_user_bundle: ALDocumentBundle.using(elements=[Divorce_dissolution_separation_action_plan_Post_interview_instructions, Divorce_dissolution_separation_action_plan_attachment], filename="Divorce_dissolution_separation_action_plan", title="All forms to download for your records", enabled=True)
  - al_court_bundle: ALDocumentBundle.using(elements=[Divorce_dissolution_separation_action_plan_attachment],  filename="Divorce_dissolution_separation_action_plan", title="All forms to deliver to court", enabled=True)
---
# Each attachment defines a key in an ALDocument. We use `i` as the placeholder here so the same template is 
# used for "preview" and "final" keys, and logic in the template checks the value of 
# `i` to show or hide the user's signature
attachment:
  name: Post-interview-Instructions
  filename: Divorce_dissolution_separation_action_plan_next_steps
  docx template file: Divorce_dissolution_separation_action_plan_next_steps.docx
  variable name: Divorce_dissolution_separation_action_plan_Post_interview_instructions[i]
  skip undefined: True
  tagged pdf: True
---
attachment:
  name: Divorce dissolution separation action plan
  filename: Divorce_dissolution_separation_action_plan
  variable name: Divorce_dissolution_separation_action_plan_attachment[i]
  skip undefined: True
  docx template file: Divorce_dissolution_separation_action_plan.docx
  tagged pdf: True



